version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        - npm run build
        - |
          set -e
          for p in \
            "/images/Osteria-La-Rimessa-gallery/La-Rimessa163.jpg" \
            "/images/ Osteria-La-Rimessa-gallery/La-Rimessa143.jpg" \
            "/images/Osteria-La-Rimessa-gallery/La-Rimessa123.jpg" \
            "/images/Ristorante-del-Glicine-gallery/IMG_0568.jpg" \
            "/images/Ristorante-del-Glicine-gallery/IMG_0577.jpg" \
            "/images/Ristorante-del-Glicine-gallery/IMG_0588.jpg" \
            "/images/Locanda-del-Glicine-boutique-hotel-open/LDC1.jpg" \
            "/images/Villa-La-Fornaca-gallery/La-fornaca7.jpg" \
            "/images/Villa-La-Fornaca-gallery/La-fornaca9.jpg"
          do
            if [ ! -f "build$p" ]; then
              echo "MISSING in build: $p"; exit 1
            fi
          done
  artifacts:
    baseDirectory: build
    files:
      - "**/*"
  cache:
    paths:
      - node_modules/**/*
